{"ast":null,"code":"var _jsxFileName = \"/Users/julie/Desktop/code33/meet-in-the-middle/client/src/pages/mapDiv.js\",\n    _s = $RefreshSig$();\n\n/*global kakao*/\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window; //! import axios from \"axios\";\n// 아이디 닉네임 비밀번호 비밀번호 확인 이름 휴대폰\n//더미 데이터만 완성해서 보여주기 , 서버 연결해서 보여주기\n\nexport default function MapDiv(_ref) {\n  _s();\n\n  let {\n    curAdd,\n    myCurAdd,\n    setMyCurAdd\n  } = _ref;\n  const [inputAdd, setInputAdd] = useState([37.541, 126.986]);\n  let add = curAdd ? curAdd : null;\n  useEffect(() => {\n    let markers = [];\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        setInputAdd([position.coords.latitude, position.coords.longitude]); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n      });\n    }\n\n    var imageSrc = \"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd1f712bb-571c-4481-b014-9fefb0995da2%2Fstart.png?table=block&id=f06f9cb2-93ca-4300-8bf1-df74e97ba9f8&spaceId=34b2f1fd-9d82-4494-8402-1bb057b304db&width=2000&userId=b5cfa95d-0fdc-4653-8882-18e28aaae8e9&cache=v2\",\n        // 마커이미지의 주소입니다\n    imageSize = new kakao.maps.Size(64, 69),\n        // 마커이미지의 크기입니다\n    imageOption = {\n      offset: new kakao.maps.Point(27, 69)\n    };\n    var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption); // console.log(inputAdd);\n\n    setMyCurAdd([inputAdd[0], inputAdd[1]]);\n    var mapContainer = document.getElementById(\"map\"),\n        // 지도를 표시할 div\n    mapOption = {\n      center: new kakao.maps.LatLng(inputAdd[0], inputAdd[1]),\n      // 지도의 중심좌표\n      level: 10 // 지도의 확대 레벨\n\n    }; // 지도를 생성합니다\n\n    var map = new kakao.maps.Map(mapContainer, mapOption); // 주소-좌표 변환 객체를 생성합니다\n\n    var geocoder = new kakao.maps.services.Geocoder();\n\n    if (add) {\n      console.log(curAdd);\n      geocoder.addressSearch(add, function (result, status) {\n        // 정상적으로 검색이 완료됐으면\n        if (status === kakao.maps.services.Status.OK) {\n          var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\n          setMyCurAdd([result[0].y, result[0].x]);\n          var markerPosition = new kakao.maps.LatLng(result[0].y, result[0].x); // 결과값으로 받은 위치를 마커로 표시합니다\n\n          var marker = new kakao.maps.Marker({\n            map: map,\n            position: markerPosition,\n            image: markerImage\n          });\n          markers.push(marker);\n          map.setCenter(coords);\n        }\n      });\n    } else {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        const lat = position.coords.latitude,\n              // 위도\n        lon = position.coords.longitude; // 경도\n\n        setMyCurAdd([lat, lon]);\n        var imageSrc = \"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd1f712bb-571c-4481-b014-9fefb0995da2%2Fstart.png?table=block&id=f06f9cb2-93ca-4300-8bf1-df74e97ba9f8&spaceId=34b2f1fd-9d82-4494-8402-1bb057b304db&width=2000&userId=b5cfa95d-0fdc-4653-8882-18e28aaae8e9&cache=v2\",\n            // 마커이미지의 주소입니다\n        imageSize = new kakao.maps.Size(64, 69),\n            // 마커이미지의 크기입니다\n        imageOption = {\n          offset: new kakao.maps.Point(27, 69)\n        };\n        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),\n            markerPosition = new kakao.maps.LatLng(lat, lon);\n        var marker = new kakao.maps.Marker({\n          map: map,\n          position: markerPosition,\n          image: markerImage\n        });\n        markers.push(marker);\n        const locPosition = new kakao.maps.LatLng(lat, lon); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n        // 마커와 인포윈도우를 표시합니다\n\n        displayMarker(locPosition);\n      });\n\n      function displayMarker(locPosition, message) {\n        map.setCenter(locPosition);\n      }\n    }\n\n    console.log(markers); // 지도에 마커를 표시합니다\n\n    kakao.maps.event.addListener(map, \"click\", function (mouseEvent) {\n      // 클릭한 위도, 경도 정보를 가져옵니다\n      var latlng = mouseEvent.latLng;\n\n      for (let i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n      }\n\n      console.log(markers);\n      var marker = new kakao.maps.Marker({\n        position: latlng,\n        image: markerImage\n      });\n      markers.push(marker); // 마커 위치를 클릭한 위치로 옮깁니다\n\n      marker.setMap(map);\n    });\n  }, [add]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 10\n  }, this);\n}\n\n_s(MapDiv, \"SMf50SboQm1FB0E/9l5nuwJA1f8=\");\n\n_c = MapDiv;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapDiv\");","map":{"version":3,"sources":["/Users/julie/Desktop/code33/meet-in-the-middle/client/src/pages/mapDiv.js"],"names":["React","useEffect","useState","kakao","window","MapDiv","curAdd","myCurAdd","setMyCurAdd","inputAdd","setInputAdd","add","markers","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","imageSrc","imageSize","maps","Size","imageOption","offset","Point","markerImage","MarkerImage","mapContainer","document","getElementById","mapOption","center","LatLng","level","map","Map","geocoder","services","Geocoder","console","log","addressSearch","result","status","Status","OK","y","x","markerPosition","marker","Marker","image","push","setCenter","lat","lon","locPosition","displayMarker","message","event","addListener","mouseEvent","latlng","latLng","i","length","setMap"],"mappings":"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","sourcesContent":["/*global kakao*/\nimport React, { useEffect, useState } from \"react\";\nconst { kakao } = window;\n//! import axios from \"axios\";\n// 아이디 닉네임 비밀번호 비밀번호 확인 이름 휴대폰\n\n//더미 데이터만 완성해서 보여주기 , 서버 연결해서 보여주기\n\nexport default function MapDiv({ curAdd, myCurAdd, setMyCurAdd }) {\n  const [inputAdd, setInputAdd] = useState([37.541, 126.986]);\n  let add = curAdd ? curAdd : null;\n\n  useEffect(() => {\n    let markers = [];\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        setInputAdd([position.coords.latitude, position.coords.longitude]);\n        // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n      });\n    }\n\n    var imageSrc =\n        \"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd1f712bb-571c-4481-b014-9fefb0995da2%2Fstart.png?table=block&id=f06f9cb2-93ca-4300-8bf1-df74e97ba9f8&spaceId=34b2f1fd-9d82-4494-8402-1bb057b304db&width=2000&userId=b5cfa95d-0fdc-4653-8882-18e28aaae8e9&cache=v2\", // 마커이미지의 주소입니다\n      imageSize = new kakao.maps.Size(64, 69), // 마커이미지의 크기입니다\n      imageOption = { offset: new kakao.maps.Point(27, 69) };\n\n    var markerImage = new kakao.maps.MarkerImage(\n      imageSrc,\n      imageSize,\n      imageOption\n    );\n\n    // console.log(inputAdd);\n    setMyCurAdd([inputAdd[0], inputAdd[1]]);\n\n    var mapContainer = document.getElementById(\"map\"), // 지도를 표시할 div\n      mapOption = {\n        center: new kakao.maps.LatLng(inputAdd[0], inputAdd[1]), // 지도의 중심좌표\n        level: 10, // 지도의 확대 레벨\n      };\n\n    // 지도를 생성합니다\n    var map = new kakao.maps.Map(mapContainer, mapOption);\n\n    // 주소-좌표 변환 객체를 생성합니다\n    var geocoder = new kakao.maps.services.Geocoder();\n\n    if (add) {\n      console.log(curAdd);\n\n      geocoder.addressSearch(add, function (result, status) {\n        // 정상적으로 검색이 완료됐으면\n        if (status === kakao.maps.services.Status.OK) {\n          var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\n\n          setMyCurAdd([result[0].y, result[0].x]);\n          var markerPosition = new kakao.maps.LatLng(result[0].y, result[0].x);\n\n          // 결과값으로 받은 위치를 마커로 표시합니다\n          var marker = new kakao.maps.Marker({\n            map: map,\n            position: markerPosition,\n            image: markerImage,\n          });\n          markers.push(marker);\n          map.setCenter(coords);\n        }\n      });\n    } else {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        const lat = position.coords.latitude, // 위도\n          lon = position.coords.longitude; // 경도\n\n        setMyCurAdd([lat, lon]);\n\n        var imageSrc =\n            \"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd1f712bb-571c-4481-b014-9fefb0995da2%2Fstart.png?table=block&id=f06f9cb2-93ca-4300-8bf1-df74e97ba9f8&spaceId=34b2f1fd-9d82-4494-8402-1bb057b304db&width=2000&userId=b5cfa95d-0fdc-4653-8882-18e28aaae8e9&cache=v2\", // 마커이미지의 주소입니다\n          imageSize = new kakao.maps.Size(64, 69), // 마커이미지의 크기입니다\n          imageOption = { offset: new kakao.maps.Point(27, 69) };\n\n        var markerImage = new kakao.maps.MarkerImage(\n            imageSrc,\n            imageSize,\n            imageOption\n          ),\n          markerPosition = new kakao.maps.LatLng(lat, lon);\n\n        var marker = new kakao.maps.Marker({\n          map: map,\n          position: markerPosition,\n          image: markerImage,\n        });\n        markers.push(marker);\n        const locPosition = new kakao.maps.LatLng(lat, lon); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n\n        // 마커와 인포윈도우를 표시합니다\n        displayMarker(locPosition);\n      });\n\n      function displayMarker(locPosition, message) {\n        map.setCenter(locPosition);\n      }\n    }\n\n    console.log(markers);\n\n    // 지도에 마커를 표시합니다\n    kakao.maps.event.addListener(map, \"click\", function (mouseEvent) {\n      // 클릭한 위도, 경도 정보를 가져옵니다\n      var latlng = mouseEvent.latLng;\n\n      for (let i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n      }\n\n      console.log(markers);\n\n      var marker = new kakao.maps.Marker({\n        position: latlng,\n        image: markerImage,\n      });\n\n      markers.push(marker);\n      // 마커 위치를 클릭한 위치로 옮깁니다\n      marker.setMap(map);\n    });\n  }, [add]);\n\n  return <div id=\"map\"></div>;\n}\n"]},"metadata":{},"sourceType":"module"}