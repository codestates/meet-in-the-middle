{"ast":null,"code":"var _jsxFileName = \"/Users/junghoo515/meet-in-the-middle/client/src/pages/mapDiv.js\",\n    _s = $RefreshSig$();\n\n/*global kakao*/\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window; //! import axios from \"axios\";\n// 아이디 닉네임 비밀번호 비밀번호 확인 이름 휴대폰\n//더미 데이터만 완성해서 보여주기 , 서버 연결해서 보여주기\n\nexport default function MapDiv(_ref) {\n  _s();\n\n  let {\n    curAdd,\n    myCurAdd,\n    setMyCurAdd\n  } = _ref;\n  const [inputAdd, setInputAdd] = useState([37.541, 126.986]);\n  let add = curAdd ? curAdd : null; //   const selectKeyWord = () => {\n  //     console.log(\"선택\");\n  //   };\n\n  useEffect(() => {\n    let markers = [];\n    let infos = [];\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        setInputAdd([position.coords.latitude, position.coords.longitude]); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n      });\n    } // console.log(inputAdd);\n\n\n    setMyCurAdd([inputAdd[0], inputAdd[1]]);\n    var mapContainer = document.getElementById(\"map\"),\n        // 지도를 표시할 div\n    mapOption = {\n      center: new kakao.maps.LatLng(inputAdd[0], inputAdd[1]),\n      // 지도의 중심좌표\n      level: 10 // 지도의 확대 레벨\n\n    }; // 지도를 생성합니다\n\n    var map = new kakao.maps.Map(mapContainer, mapOption); // 주소-좌표 변환 객체를 생성합니다\n\n    var geocoder = new kakao.maps.services.Geocoder();\n\n    if (add) {\n      console.log(curAdd);\n      geocoder.addressSearch(add, function (result, status) {\n        // 정상적으로 검색이 완료됐으면\n        if (status === kakao.maps.services.Status.OK) {\n          var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\n          setMyCurAdd([result[0].y, result[0].x]); // 결과값으로 받은 위치를 마커로 표시합니다\n\n          var marker = new kakao.maps.Marker({\n            map: map,\n            position: coords\n          });\n          markers.push(marker); // 인포윈도우로 장소에 대한 설명을 표시합니다\n\n          var infowindow = new kakao.maps.InfoWindow({\n            content: `<div style=\"width:150px;text-align:center;padding:6px 0;\">${add}</div>`\n          });\n          infos.push(infowindow);\n          infowindow.open(map, marker); // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\n\n          map.setCenter(coords);\n        }\n      });\n    } else {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        const lat = position.coords.latitude,\n              // 위도\n        lon = position.coords.longitude; // 경도\n\n        setMyCurAdd([lat, lon]);\n        const locPosition = new kakao.maps.LatLng(lat, lon),\n              // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n        message = '<div style=\"padding:5px;\">현재 위치</div>'; // 인포윈도우에 표시될 내용입니다\n        // 마커와 인포윈도우를 표시합니다\n\n        displayMarker(locPosition, message);\n      });\n\n      function displayMarker(locPosition, message) {\n        // 마커를 생성합니다\n        const marker = new kakao.maps.Marker({\n          map: map,\n          position: locPosition\n        });\n        markers.push(marker);\n        const iwContent = message,\n              // 인포윈도우에 표시할 내용\n        iwRemoveable = true; // 인포윈도우를 생성합니다\n\n        const infowindow = new kakao.maps.InfoWindow({\n          content: iwContent,\n          removable: iwRemoveable\n        });\n        infos.push(infowindow); // 인포윈도우를 마커위에 표시합니다\n\n        infowindow.open(map, marker); // 지도 중심좌표를 접속위치로 변경합니다\n\n        map.setCenter(locPosition);\n      }\n    } // 지도에 마커를 표시합니다\n\n\n    kakao.maps.event.addListener(map, \"click\", function (mouseEvent) {\n      // 클릭한 위도, 경도 정보를 가져옵니다\n      var latlng = mouseEvent.latLng;\n\n      for (let i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n      }\n\n      for (let j = 0; j < infos.length; j++) {\n        infos[j].setMap(null);\n      }\n\n      var marker = new kakao.maps.Marker({\n        position: latlng\n      });\n      const infowindow = new kakao.maps.InfoWindow({\n        content: '<div style=\"padding:5px;\">여기???????</div>'\n      });\n      infos.push(infowindow); // 인포윈도우를 마커위에 표시합니다\n\n      infowindow.open(map, marker);\n      markers.push(marker); // 마커 위치를 클릭한 위치로 옮깁니다\n\n      marker.setMap(map);\n    });\n  }, [add]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 10\n  }, this);\n}\n\n_s(MapDiv, \"SMf50SboQm1FB0E/9l5nuwJA1f8=\");\n\n_c = MapDiv;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapDiv\");","map":{"version":3,"sources":["/Users/junghoo515/meet-in-the-middle/client/src/pages/mapDiv.js"],"names":["React","useEffect","useState","kakao","window","MapDiv","curAdd","myCurAdd","setMyCurAdd","inputAdd","setInputAdd","add","markers","infos","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","mapContainer","document","getElementById","mapOption","center","maps","LatLng","level","map","Map","geocoder","services","Geocoder","console","log","addressSearch","result","status","Status","OK","y","x","marker","Marker","push","infowindow","InfoWindow","content","open","setCenter","lat","lon","locPosition","message","displayMarker","iwContent","iwRemoveable","removable","event","addListener","mouseEvent","latlng","latLng","i","length","setMap","j"],"mappings":"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","sourcesContent":["/*global kakao*/\nimport React, { useEffect, useState } from \"react\";\nconst { kakao } = window;\n//! import axios from \"axios\";\n// 아이디 닉네임 비밀번호 비밀번호 확인 이름 휴대폰\n\n//더미 데이터만 완성해서 보여주기 , 서버 연결해서 보여주기\n\nexport default function MapDiv({ curAdd, myCurAdd, setMyCurAdd }) {\n  const [inputAdd, setInputAdd] = useState([37.541, 126.986]);\n  let add = curAdd ? curAdd : null;\n\n  //   const selectKeyWord = () => {\n  //     console.log(\"선택\");\n  //   };\n\n  useEffect(() => {\n    let markers = [];\n    let infos = [];\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        setInputAdd([position.coords.latitude, position.coords.longitude]);\n        // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n      });\n    }\n\n    // console.log(inputAdd);\n    setMyCurAdd([inputAdd[0], inputAdd[1]]);\n\n    var mapContainer = document.getElementById(\"map\"), // 지도를 표시할 div\n      mapOption = {\n        center: new kakao.maps.LatLng(inputAdd[0], inputAdd[1]), // 지도의 중심좌표\n        level: 10, // 지도의 확대 레벨\n      };\n\n    // 지도를 생성합니다\n    var map = new kakao.maps.Map(mapContainer, mapOption);\n\n    // 주소-좌표 변환 객체를 생성합니다\n    var geocoder = new kakao.maps.services.Geocoder();\n\n    if (add) {\n      console.log(curAdd);\n\n      geocoder.addressSearch(add, function (result, status) {\n        // 정상적으로 검색이 완료됐으면\n        if (status === kakao.maps.services.Status.OK) {\n          var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\n\n          setMyCurAdd([result[0].y, result[0].x]);\n\n          // 결과값으로 받은 위치를 마커로 표시합니다\n          var marker = new kakao.maps.Marker({\n            map: map,\n            position: coords,\n          });\n          markers.push(marker);\n          // 인포윈도우로 장소에 대한 설명을 표시합니다\n          var infowindow = new kakao.maps.InfoWindow({\n            content: `<div style=\"width:150px;text-align:center;padding:6px 0;\">${add}</div>`,\n          });\n          infos.push(infowindow);\n          infowindow.open(map, marker);\n\n          // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\n          map.setCenter(coords);\n        }\n      });\n    } else {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        const lat = position.coords.latitude, // 위도\n          lon = position.coords.longitude; // 경도\n\n        setMyCurAdd([lat, lon]);\n\n        const locPosition = new kakao.maps.LatLng(lat, lon), // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n          message = '<div style=\"padding:5px;\">현재 위치</div>'; // 인포윈도우에 표시될 내용입니다\n\n        // 마커와 인포윈도우를 표시합니다\n        displayMarker(locPosition, message);\n      });\n\n      function displayMarker(locPosition, message) {\n        // 마커를 생성합니다\n        const marker = new kakao.maps.Marker({\n          map: map,\n          position: locPosition,\n        });\n        markers.push(marker);\n\n        const iwContent = message, // 인포윈도우에 표시할 내용\n          iwRemoveable = true;\n\n        // 인포윈도우를 생성합니다\n        const infowindow = new kakao.maps.InfoWindow({\n          content: iwContent,\n          removable: iwRemoveable,\n        });\n\n        infos.push(infowindow);\n        // 인포윈도우를 마커위에 표시합니다\n        infowindow.open(map, marker);\n\n        // 지도 중심좌표를 접속위치로 변경합니다\n        map.setCenter(locPosition);\n      }\n    }\n\n    // 지도에 마커를 표시합니다\n    kakao.maps.event.addListener(map, \"click\", function (mouseEvent) {\n      // 클릭한 위도, 경도 정보를 가져옵니다\n      var latlng = mouseEvent.latLng;\n\n      for (let i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n      }\n      for (let j = 0; j < infos.length; j++) {\n        infos[j].setMap(null);\n      }\n\n      var marker = new kakao.maps.Marker({\n        position: latlng,\n      });\n\n      const infowindow = new kakao.maps.InfoWindow({\n        content: '<div style=\"padding:5px;\">여기???????</div>',\n      });\n\n      infos.push(infowindow);\n      // 인포윈도우를 마커위에 표시합니다\n      infowindow.open(map, marker);\n\n      markers.push(marker);\n      // 마커 위치를 클릭한 위치로 옮깁니다\n      marker.setMap(map);\n    });\n  }, [add]);\n\n  return <div id=\"map\"></div>;\n}\n"]},"metadata":{},"sourceType":"module"}