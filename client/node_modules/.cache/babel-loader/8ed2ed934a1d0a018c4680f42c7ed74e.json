{"ast":null,"code":"/*global kakao*/\nconst {\n  kakao\n} = window;\nexport default function KakaoMap() {\n  let infos = [];\n  var mapContainer = document.getElementById('map'),\n      // 지도를 표시할 div \n  mapOption = {\n    center: new kakao.maps.LatLng(37.541, 126.986),\n    // 지도의 중심좌표\n    level: 10 // 지도의 확대 레벨 \n\n  };\n  var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다\n  // HTML5의 geolocation으로 사용할 수 있는지 확인합니다 \n\n  if (navigator.geolocation) {\n    // GeoLocation을 이용해서 접속 위치를 얻어옵니다\n    navigator.geolocation.getCurrentPosition(function (position) {\n      var lat = position.coords.latitude,\n          // 위도\n      lon = position.coords.longitude; // 경도\n\n      var locPosition = new kakao.maps.LatLng(lat, lon),\n          // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n      message = '<div style=\"padding:5px;\">여기에 계신가요?!</div>'; // 인포윈도우에 표시될 내용입니다\n      // 마커와 인포윈도우를 표시합니다\n\n      displayMarker(locPosition, message);\n    });\n  } else {\n    // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\n    var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),\n        message = 'geolocation을 사용할수 없어요..';\n    displayMarker(locPosition, message);\n  } // 지도에 마커와 인포윈도우를 표시하는 함수입니다\n\n\n  function displayMarker(locPosition, message) {\n    // 마커를 생성합니다\n    var marker = new kakao.maps.Marker({\n      map: map,\n      position: locPosition\n    });\n    var iwContent = message,\n        // 인포윈도우에 표시할 내용\n    iwRemoveable = true; // 인포윈도우를 생성합니다\n\n    var infowindow = new kakao.maps.InfoWindow({\n      content: iwContent,\n      removable: iwRemoveable\n    }); // 인포윈도우를 마커위에 표시합니다 \n\n    infowindow.open(map, marker);\n    marker.setMap(map);\n    infos.push(infowindow);\n\n    function removeinfo() {\n      for (var i = 0; i < infos.length; i++) {\n        infos[i].setMap(null);\n      }\n\n      infos = [];\n    } // 지도에 클릭 이벤트를 등록합니다\n    // 지도를 클릭하면 마지막 파라미터로 넘어온 함수를 호출합니다\n\n\n    kakao.maps.event.addListener(map, 'click', function (mouseEvent) {\n      removeinfo(infos); // 클릭한 위도, 경도 정보를 가져옵니다 \n\n      var latlng = mouseEvent.latLng; // 마커 위치를 클릭한 위치로 옮깁니다\n\n      marker.setPosition(latlng);\n      var newmarker = new kakao.maps.LatLng(latlng.getLat(), latlng.getLng()),\n          // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n      message = '<div style=\"padding:5px;\">여기에 계신가요?!</div>'; // 인포윈도우에 표시될 내용입니다\n\n      displayMarker(newmarker, message);\n    });\n  }\n}\n_c = KakaoMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"KakaoMap\");","map":{"version":3,"sources":["/Users/julie/Desktop/code33/meet-in-the-middle/client/src/pages/KakaoMap.js"],"names":["kakao","window","KakaoMap","infos","mapContainer","document","getElementById","mapOption","center","maps","LatLng","level","map","Map","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lon","longitude","locPosition","message","displayMarker","marker","Marker","iwContent","iwRemoveable","infowindow","InfoWindow","content","removable","open","setMap","push","removeinfo","i","length","event","addListener","mouseEvent","latlng","latLng","setPosition","newmarker","getLat","getLng"],"mappings":"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","sourcesContent":["/*global kakao*/ \nconst { kakao } = window;\n\n\nexport default function KakaoMap () {\n\n\tlet infos = [];\n\n\tvar mapContainer = document.getElementById('map'), // 지도를 표시할 div \n\tmapOption = { \n\t    center: new kakao.maps.LatLng(37.541, 126.986), // 지도의 중심좌표\n\t    level: 10 // 지도의 확대 레벨 \n\t}; \n\t\n\tvar map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다\n\t\n\t// HTML5의 geolocation으로 사용할 수 있는지 확인합니다 \n\tif (navigator.geolocation) {\n\t\n\t// GeoLocation을 이용해서 접속 위치를 얻어옵니다\n\tnavigator.geolocation.getCurrentPosition(function(position) {\n\t    \n\t    var lat = position.coords.latitude, // 위도\n\t\tlon = position.coords.longitude; // 경도\n\t    \n\t    var locPosition = new kakao.maps.LatLng(lat, lon), // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n\t\tmessage = '<div style=\"padding:5px;\">여기에 계신가요?!</div>'; // 인포윈도우에 표시될 내용입니다\n\t    \n\t    // 마커와 인포윈도우를 표시합니다\n\t    displayMarker(locPosition, message);\n\t\t\n\t  });\n\t\n\t} else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\n\t\n\tvar locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    \n\t    message = 'geolocation을 사용할수 없어요..'\n\t    \n\tdisplayMarker(locPosition, message);\n\t}\n\t\n\t// 지도에 마커와 인포윈도우를 표시하는 함수입니다\n\tfunction displayMarker(locPosition, message) {\n\t\n\t// 마커를 생성합니다\n\tvar marker = new kakao.maps.Marker({  \n\t    map: map, \n\t    position: locPosition\n\t}); \n\t\n\tvar iwContent = message, // 인포윈도우에 표시할 내용\n\t    iwRemoveable = true;\n\t\n\t// 인포윈도우를 생성합니다\n\tvar infowindow = new kakao.maps.InfoWindow({\n\t    content : iwContent,\n\t    removable : iwRemoveable\n\t});\n\t\n\t// 인포윈도우를 마커위에 표시합니다 \n\tinfowindow.open(map, marker);\n\t\n\tmarker.setMap(map);\n\tinfos.push(infowindow)\n\n\tfunction removeinfo() {\n\t\tfor ( var i = 0; i < infos.length; i++ ) {\n\t\t\tinfos[i].setMap(null);\n\t\t}   \n\t\tinfos = [];\n\t}\n\t\n\t// 지도에 클릭 이벤트를 등록합니다\n\t// 지도를 클릭하면 마지막 파라미터로 넘어온 함수를 호출합니다\n\tkakao.maps.event.addListener(map, 'click', function(mouseEvent) {        \n\t    removeinfo(infos)\n\t    // 클릭한 위도, 경도 정보를 가져옵니다 \n\t    var latlng = mouseEvent.latLng; \n\t    \n\t    // 마커 위치를 클릭한 위치로 옮깁니다\n\t    marker.setPosition(latlng);\n\t    \n\n\t    var newmarker = new kakao.maps.LatLng(latlng.getLat(), latlng.getLng()), // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다\n\t    message = '<div style=\"padding:5px;\">여기에 계신가요?!</div>'; // 인포윈도우에 표시될 내용입니다\n\t    displayMarker(newmarker, message);\n\t});\n\t}\n\t\n}"]},"metadata":{},"sourceType":"module"}